<!--Embed the header.html template at this location-->
{{ template "header.html" .}}

        <!-- page content -->
        <div class="right_col" role="main">

              <div class="col-md-12 col-sm-12  ">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>{{ T .Context "booking_incoming_self" nil }}</h2>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <table class="table table-striped table-bordered">
                      <thead>
                        <tr>
                          <th>{{ T .Context "booking_title" nil }}</th>
                          <th>{{ T .Context "booking_room_name" nil }}</th>
                          <th>{{ T .Context "booking_participant_count" nil }}</th>
                          <th>{{ T .Context "booking_start_date" nil }}</th>
                          <th>{{ T .Context "booking_end_date" nil }}</th>
                          <th>{{ T .Context "booking_status" nil }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        {{range .UserIncomingBooking}}
                        <tr>
                          <td><a href="/booking/view?id={{.BookingId}}">{{.Title}}</a></td>
                          <td>
                            {{range .Rooms}}
                              {{.Name}} <br>
                            {{end}}
                          </td>
                          <td>{{.ParticipantCount}}</td>
                          <td>{{.StartDate | formatDate}}</td>
                          <td>{{.EndDate | formatDate}}</td>
                          <td>{{.Status}}</td>
                        </tr>
                        {{end}}
                      </tbody>
                    </table>

                  </div>
                </div>
              </div>

              <div class="col-md-12 col-sm-12  ">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>{{ T .Context "booking_incoming_all" nil }} </h2>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <table id="datatable-buttons" class="table table-striped table-bordered" style="width:100%">
                      <thead>
                        <tr>
                          <th>{{ T .Context "booking_title" nil }}</th>
                          <th>{{ T .Context "booking_room_name" nil }}</th>
                          <th>{{ T .Context "booking_start_date" nil }}</th>
                          <th>{{ T .Context "booking_end_date" nil }}</th>
                          <th>{{ T .Context "booking_status" nil }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        {{range .AllIncomingBooking}}
                        <tr>
                          {{if eq $.User.Role "admin"}}
                          <td><a href="/booking/approval?id={{.BookingId}}">{{.Title}}</a></td>
                          {{else}}
                          <td>{{.Title}}</td>
                          {{end}}
                          <td>
                            {{range .Rooms}}
                              {{.Name}} <br>
                            {{end}}
                          </td>
                          <td>{{.StartDate | formatDate}}</td>
                          <td>{{.EndDate | formatDate}}</td>
                          <td>{{.Status}}</td>
                        </tr>
                        {{end}}
                      </tbody>
                    </table>

                  </div>
                </div>
              </div>

    
        </div>
        <!-- /page content -->
    
    
<!--Embed the footer.html template at this location-->
{{ template "footer.html" .}}

<script>

  $(document).ready(function() {

    if ($.fn.DataTable.isDataTable('#datatable-buttons')) {
        var table = $('#datatable-buttons').DataTable();
        table.order([2, 'asc']).draw();
    } 

  } );

</script>